<!-- Premium Starter Skin - Footer Include -->

<!-- Premium Starter JavaScript -->
<script src="<roundcube:var name='env:skin_path' />/premium.js"></script>

<roundcube:object name="plugin.skin_js" />

<!-- Initialize Premium Features -->
<script>
    // Register service worker for PWA
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('<roundcube:var name="env:skin_path" />/sw.js')
            .then(function(registration) {
                console.log('ServiceWorker registered:', registration.scope);
            })
            .catch(function(error) {
                console.log('ServiceWorker registration failed:', error);
            });
    }
    
    // Initialize keyboard shortcuts help
    document.addEventListener('keydown', function(e) {
        if (e.key === '?' && !e.target.matches('input, textarea, select')) {
            e.preventDefault();
            if (window.PremiumStarter) {
                PremiumStarter.showKeyboardShortcuts();
            }
        }
    });
</script>
